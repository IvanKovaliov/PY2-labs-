using System;
using System.Text;

class TextProcessor
{
    // Метод для удаления повторяющихся подряд слов в предложениях
    public static string RemoveConsecutiveDuplicates(string text)
    {
        // Разделяем текст на предложения (по точкам и восклицательным знакам)
        string[] sentences = text.Split(new[] { '.', '!' }, StringSplitOptions.RemoveEmptyEntries);
        
        StringBuilder result = new StringBuilder();
        
        foreach (string sentence in sentences)
        {
            if (string.IsNullOrWhiteSpace(sentence)) continue;
            
            // Разделяем предложение на слова
            string[] words = sentence.Trim().Split(new[] { ' ' }, StringSplitOptions.RemoveEmptyEntries);
            
            if (words.Length == 0) continue;
            
            // Обрабатываем слова, удаляя подряд идущие дубликаты
            StringBuilder cleanedSentence = new StringBuilder();
            string previousWord = words[0];
            cleanedSentence.Append(previousWord);
            
            for (int i = 1; i < words.Length; i++)
            {
                if (!words[i].Equals(previousWord, StringComparison.CurrentCultureIgnoreCase))
                {
                    cleanedSentence.Append(" " + words[i]);
                    previousWord = words[i];
                }
            }
            
            // Добавляем обработанное предложение в результат
            result.Append(cleanedSentence.ToString());
            
            // Восстанавливаем знак препинания (берем следующий после предложения)
            int sentenceEnd = text.IndexOf(sentence) + sentence.Length;
            if (sentenceEnd < text.Length)
            {
                result.Append(text[sentenceEnd]);
            }
            
            result.Append(" ");
        }
        
        return result.ToString().Trim();
    }
}

class Program
{
    static void Main()
    {
        Console.WriteLine("Введите текст на русском языке:");
        string inputText = Console.ReadLine();
        
        string processedText = TextProcessor.RemoveConsecutiveDuplicates(inputText);
        
        Console.WriteLine("\nРезультат обработки:");
        Console.WriteLine(processedText);
        
        Console.ReadLine();
    }
}